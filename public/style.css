

/* ESTILOS INTEGRADOS - Modo claro corrigido com melhorias do style.fixed.css */
    :root {
      --primary: #2ecc71;
      --primary-dark: #27ae60;
      --primary-light: #d1f2e5;
      --secondary: #f39c12;
      --secondary-dark: #d35400;
      --secondary-light: #fdebd0;
      --light: #f8f9fa;
      --dark: #2c3e50;
      --gray: #95a5a6;
      --danger: #e74c3c;
      --warning: #f39c12;
      --success: #2ecc71;
      --card-bg: rgba(255, 255, 255, 0.95);
      --card-alt-bg: #f9f9f9;
      --shadow: 0 6px 30px rgba(0, 0, 0, 0.12);
      --border-radius: 16px;
      --transition: all 0.3s ease;
      --header-height: 100px;
      --dark-bg: #1a2b3c;
      --dark-card: #223344;
      --dark-card-alt: #223344;
      --dark-text: white;
      --dark-border: #34495e;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
    }

    body {
      font-family: 'Open Sans', sans-serif;
      background: linear-gradient(135deg, #e8f5e9, #f1f8e9);
      color: var(--dark);
      min-height: 100vh;
      padding: 30px;
      position: relative;
      overflow-x: hidden;
      transition: var(--transition);
      line-height: 1.6;
    }

    body.dark-mode {
      background: linear-gradient(135deg, #0d1f2d, #1a2b3c);
      color: var(--dark-text);
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      position: relative;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 40px;
      margin-bottom: 40px;
      background: white;
      border-radius: var(--border-radius);
      height: var(--header-height);
      box-shadow: var(--shadow);
      position: relative;
      transition: var(--transition);
    }

    .dark-mode header {
      background: var(--dark-card);
      box-shadow: 0 6px 30px rgba(0, 0, 0, 0.25);
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .logo i {
      font-size: 2.8rem;
      color: var(--primary);
      background: var(--primary-light);
      width: 70px;
      height: 70px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 10%;
      box-shadow: 0 4px 10px rgba(46, 204, 113, 0.2);
      transition: var(--transition);
    }

    .dark-mode .logo i {
      background: rgba(46, 204, 113, 0.15);
      box-shadow: 0 4px 10px rgba(46, 204, 113, 0.1);
    }

    .logo h1 {
      font-family: 'Montserrat', sans-serif;
      font-size: 2.4rem;
      font-weight: 800;
      color: var(--primary-dark);
      position: relative;
    }

    .dark-mode .logo h1 {
      color: var(--primary);
    }

    .logo h1::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--primary-dark));
      border-radius: 2px;
    }

    .logo span {
      color: var(--dark);
      font-weight: 600;
    }

    .dark-mode .logo span {
      color: var(--dark-text);
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 25px;
    }

    .header-info {
      padding: 10px 20px;
      background: var(--primary-light);
      border-radius: 50px;
      font-weight: 500;
      box-shadow: 0 4px 10px rgba(46, 204, 113, 0.15);
      transition: var(--transition);
      white-space: nowrap;
    }

    .dark-mode .header-info {
      background: rgba(46, 204, 113, 0.15);
      box-shadow: 0 4px 10px rgba(46, 204, 113, 0.1);
    }

    .theme-toggle-container {
      display: flex;
      align-items: center;
      gap: 12px;
      background: var(--primary-light);
      padding: 8px 16px;
      border-radius: 50px;
      transition: var(--transition);
    }

    .dark-mode .theme-toggle-container {
      background: rgba(46, 204, 113, 0.15);
    }

    .theme-toggle-label {
      font-weight: 500;
      font-size: 0.95rem;
    }

    .theme-toggle-btn {
      position: relative;
      display: inline-block;
      width: 50px;
      height: 26px;
    }

    .theme-toggle-btn input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .theme-toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 34px;
    }

    .theme-toggle-slider:before {
      position: absolute;
      content: "";
      height: 20px;
      width: 20px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: "Font Awesome 6 Free";
      font-weight: 900;
      font-size: 12px;
      color: #f39c12;
    }

    input:checked + .theme-toggle-slider {
      background-color: var(--primary);
    }

    input:checked + .theme-toggle-slider:before {
      transform: translateX(24px);
      content: "\f185";
    }

    input:not(:checked) + .theme-toggle-slider:before {
      content: "\f186";
    }

    .layout-container {
      display: flex;
      flex-direction: column;
      gap: 35px;
      margin-bottom: 50px;
    }

    .top-section {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
    }

    .middle-section {
      background: var(--card-bg);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      padding: 30px;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(0, 0, 0, 0.05);
    }

    .dark-mode .middle-section {
      background: var(--dark-card);
      border: 1px solid var(--dark-border);
      box-shadow: 0 6px 30px rgba(0, 0, 0, 0.25);
    }

    .middle-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(90deg, var(--primary), var(--primary-dark));
    }

    .bottom-section {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
    }

    .card {
      background: var(--card-bg);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      padding: 30px;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(0, 0, 0, 0.05);
      min-height: 400px;
    }

    .card:nth-child(even) {
      background: var(--card-alt-bg);
    }

    .dark-mode .card {
      background: var(--dark-card);
      border: 1px solid var(--dark-border);
      box-shadow: 0 6px 30px rgba(0, 0, 0, 0.25);
    }

    .dark-mode .card:nth-child(even) {
      background: var(--dark-card-alt);
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(90deg, var(--primary), var(--primary-dark));
    }

    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 35px rgba(0, 0, 0, 0.15);
      border-color: rgba(46, 204, 113, 0.3);
    }

    .dark-mode .card:hover {
      box-shadow: 0 12px 35px rgba(0, 0, 0, 0.3);
      border-color: rgba(46, 204, 113, 0.5);
    }

    .card h2 {
      display: flex;
      align-items: center;
      gap: 12px;
      font-family: 'Montserrat', sans-serif;
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--primary-dark);
      margin-bottom: 25px;
      position: relative;
      padding-bottom: 15px;
    }

    .dark-mode .card h2 {
      color: var(--primary);
    }

    .card h2::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 45px;
      height: 3px;
      background: var(--primary);
      border-radius: 2px;
    }

    .card h2 i {
      font-size: 1.8rem;
      color: var(--primary);
      background: var(--primary-light);
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 100px;
      transition: var(--transition);
    }

    .dark-mode .card h2 i {
      background: rgba(46, 204, 113, 0.15);
    }

    .card h2:hover i {
      transform: scale(1.1);
      background: var(--primary);
      color: white;
    }

    .form-group {
      margin-bottom: 25px;
    }

    .form-group label {
      display: block;
      margin-bottom: 10px;
      font-weight: 600;
      color: var(--dark);
      font-size: 1.05rem;
    }

    .dark-mode .form-group label {
      color: var(--dark-text);
    }

    .form-group-inline {
      display: flex;
      gap: 18px;
      margin-bottom: 25px;
    }

    input,
    select {
      width: 100%;
      padding: 16px 22px;
      border: 2px solid #e0e0e0;
      border-radius: 12px;
      font-size: 1.05rem;
      outline: none;
      transition: var(--transition);
      background: white;
      font-family: 'Open Sans', sans-serif;
      height: 56px;
    }

    .dark-mode input,
    .dark-mode select {
      background: #2c3e50;
      border-color: #34495e;
      color: var(--dark-text);
    }

    input:focus,
    select:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 4px rgba(46, 204, 113, 0.25);
      outline: none;
    }

    button {
      padding: 16px 30px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 12px;
      transition: var(--transition);
      box-shadow: 0 5px 15px rgba(46, 204, 113, 0.35);
      font-family: 'Open Sans', sans-serif;
      height: 56px;
    }

    button:hover {
      background: var(--primary-dark);
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 8px 20px rgba(46, 204, 113, 0.45);
    }

    button:focus {
      outline: 2px solid var(--primary-dark);
      outline-offset: 2px;
    }

    .btn-secondary {
      background: var(--secondary);
      box-shadow: 0 5px 15px rgba(243, 156, 18, 0.35);
    }

    .btn-secondary:hover {
      background: var(--secondary-dark);
      box-shadow: 0 8px 20px rgba(243, 156, 18, 0.45);
    }

    .btn-ghost {
      background: transparent;
      border: 2px solid var(--primary);
      color: var(--primary);
      box-shadow: none;
      height: 56px;
      padding: 12px 20px;
    }

    .btn-ghost:hover {
      background: rgba(46, 204, 113, 0.1);
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 4px 12px rgba(46, 204, 113, 0.2);
    }

    .dark-mode .btn-ghost {
      border-color: var(--primary);
      color: var(--primary);
    }

    .info-cards {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 22px;
      margin-top: 25px;
    }

    .info-card {
      background: var(--card-alt-bg);
      border-radius: 14px;
      padding: 22px;
      box-shadow: 0 4px 18px rgba(0, 0, 0, 0.07);
      transition: var(--transition);
      border: 1px solid rgba(0, 0, 0, 0.05);
      min-height: 240px;
    }

    .dark-mode .info-card {
      background: var(--dark-card-alt);
      border-color: var(--dark-border);
      box-shadow: 0 4px 18px rgba(0, 0, 0, 0.2);
    }

    .info-card:hover {
      transform: translateY(-3px);
    }

    .info-card h3 {
      font-size: 1.25rem;
      margin-bottom: 18px;
      color: var(--primary-dark);
      display: flex;
      align-items: center;
      gap: 10px;
      padding-bottom: 12px;
      border-bottom: 2px solid rgba(46, 204, 113, 0.15);
    }

    .dark-mode .info-card h3 {
      color: var(--primary);
      border-bottom-color: rgba(46, 204, 113, 0.25);
    }

    .info-card h3 i {
      color: var(--primary);
      font-size: 1.4rem;
    }

    .info-card p {
      margin: 10px 0;
      display: flex;
      justify-content: space-between;
      font-size: 1.05rem;
    }

    .dark-mode .info-card p {
      color: var(--dark-text);
    }

    .info-card strong {
      color: var(--dark);
      font-weight: 600;
    }

    .dark-mode .info-card strong {
      color: var(--dark-text);
    }

    .info-card span {
      color: var(--primary-dark);
      font-weight: 600;
    }

    .dark-mode .info-card span {
      color: var(--primary);
    }

    .recommendation-section {
      margin-top: 35px;
    }

    .result-box {
      background: #e9f7ef;
      border-left: 5px solid var(--primary);
      border-radius: 14px;
      padding: 28px;
      margin-top: 25px;
      min-height: 180px;
      display: flex;
      flex-direction: column;
      gap: 18px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      transition: background-color 0.25s, box-shadow 0.25s;
    }

    .dark-mode .result-box {
      background: rgba(46, 204, 113, 0.1);
      border-left-color: var(--primary);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    }

    .result-box h3 {
      font-size: 1.4rem;
      color: var(--primary-dark);
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .dark-mode .result-box h3 {
      color: var(--primary);
    }

    .result-box h3 i {
      color: var(--primary);
      font-size: 1.4rem;
    }

    .result-box p {
      line-height: 1.7;
      color: var(--dark);
      font-size: 1.05rem;
    }

    .dark-mode .result-box p {
      color: var(--dark-text);
    }

    .crops-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
      gap: 18px;
      margin-top: 18px;
    }

    .crop-card {
      background: white;
      border-radius: 14px;
      padding: 18px;
      text-align: center;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.07);
      transition: var(--transition);
      cursor: pointer;
      border: 1px solid rgba(0, 0, 0, 0.05);
    }

    .dark-mode .crop-card {
      background: var(--dark-card);
      border-color: var(--dark-border);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .crop-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
      background: var(--primary-light);
    }

    .dark-mode .crop-card:hover {
      background: rgba(46, 204, 113, 0.15);
    }

    .crop-card i {
      font-size: 2.4rem;
      color: var(--primary);
      margin-bottom: 12px;
      transition: var(--transition);
    }

    .crop-card:hover i {
      transform: scale(1.2);
    }

    .crop-card h4 {
      font-size: 1rem;
      color: var(--dark);
      font-weight: 600;
    }

    .dark-mode .crop-card h4 {
      color: var(--dark-text);
    }

    .chat-btn {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: var(--primary);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.7rem;
      box-shadow: 0 8px 25px rgba(46, 204, 113, 0.45);
      cursor: pointer;
      transition: var(--transition);
      position: fixed;
      bottom: 50px;
      right: 60px;
      border: none;
      z-index: 1000;
    }

    .chat-btn::after {
      content: '';
      position: absolute;
      top: -5px;
      left: -5px;
      right: -5px;
      bottom: -5px;
      border: 2px solid var(--primary);
      border-radius: 50%;
      animation: pulse 1.5s infinite;
      pointer-events: none;
    }

    .chat-btn:hover {
      transform: scale(1.1);
      background: var(--primary-dark);
    }

    .chat-btn:active {
      transform: scale(0.95);
    }

    .chat-btn i {
      font-size: 1.7rem;
    }

    .chat-window {
      position: fixed;
      bottom: 130px;
      right: 70px;
      width: 380px;
      height: 500px;
      background: white;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      transform: translateY(20px);
      opacity: 0;
      pointer-events: none;
      transition: var(--transition);
      border: 1px solid rgba(0, 0, 0, 0.05);
      z-index: 1100;
    }

    .dark-mode .chat-window {
      background: var(--dark-card);
      border-color: var(--dark-border);
      box-shadow: 0 6px 30px rgba(0, 0, 0, 0.25);
    }

    .chat-window.active {
      transform: translateY(0);
      opacity: 1;
      pointer-events: all;
    }

    .chat-header {
      background: var(--primary);
      color: white;
      padding: 18px 25px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .chat-header h3 {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 1.2rem;
    }

    .close-btn {
      background: none;
      border: none;
      color: white;
      font-size: 1.3rem;
      cursor: pointer;
      padding: 5px;
      transition: var(--transition);
    }

    .close-btn:hover {
      transform: rotate(90deg);
    }

    .chat-body {
      flex: 1;
      padding: 25px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 18px;
      background: #f4fbf6;
    }

    .dark-mode .chat-body {
      background: #1e2a38;
    }

    .message {
      max-width: 85%;
      padding: 14px 18px;
      border-radius: 20px;
      line-height: 1.5;
      position: relative;
      animation: fadeIn 0.3s ease-in-out;
      font-size: 1.05rem;
    }

    .bot-message {
      align-self: flex-start;
      background: white;
      color: var(--dark);
      border: 1px solid #e0e0e0;
      border-bottom-left-radius: 5px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    .dark-mode .bot-message {
      background: #2c3e50;
      color: var(--dark-text);
      border-color: #34495e;
    }

    .user-message {
      align-self: flex-end;
      background: var(--primary);
      color: white;
      border-bottom-right-radius: 5px;
      box-shadow: 0 2px 8px rgba(46, 204, 113, 0.2);
    }

    .chat-footer {
      padding: 18px;
      display: flex;
      gap: 8px;
      border-top: 1px solid #eee;
      background: white;
    }

    .dark-mode .chat-footer {
      background: var(--dark-card);
      border-top-color: var(--dark-border);
    } 
/* Padrão */
#historyFooterText {
  color: #111; /* cor padrão, preto */
  background: #111;
}

/* Quando o dark-mode estiver ativo */
.dark-mode #historyFooterText {
  color: #000; /* força preto mesmo com fundo escuro */
}
/* Padrão */
#historyFooterText {
  color: #111;       /* texto preto no modo claro */
  background: #fff;  /* fundo branco no modo claro */
  padding: 8px 0;    /* opcional: espaço interno */
}

/* Dark mode */
.dark-mode #historyFooterText {
  background: #2c3e50; /* fundo cinza escuro igual ao dark */
  color: white;         /* texto preto (como você pediu) */
}


    .chat-input {
      flex: 1;
      padding: 14px 18px;
      border: 1px solid #ddd;
      border-radius: 30px;
      font-size: 1rem;
      outline: none;
      font-family: 'Open Sans', sans-serif;
      transition: border-color 0.25s;
    }

    .dark-mode .chat-input {
      background: #2c3e50;
      border-color: #34495e;
      color: var(--dark-text);
    }

    .chat-input:focus {
      border-color: var(--primary);
      outline: 2px solid var(--primary);
      outline-offset: 2px;
    }

    .send-btn {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      padding: 0;
      justify-content: center;
      font-size: 1.2rem;
    }

    .mic-btn {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      background: var(--primary);
      color: white;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
      font-size: 1.2rem;
      margin-left: 8px;
    }

    .mic-btn:hover {
      background: var(--primary-dark);
    }

    .mic-btn.listening {
      background: var(--danger);
      animation: pulse 1.5s infinite;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0% {
        opacity: 0.8;
        transform: scale(1);
      }

      50% {
        opacity: 0.3;
        transform: scale(1.05);
      }

      100% {
        opacity: 0.8;
        transform: scale(1);
      }
    }

    footer {
      text-align: center;
      padding: 35px 0;
      color: var(--gray);
      font-size: 1rem;
      border-top: 1px solid rgba(0, 0, 0, 0.05);
      margin-top: 50px;
      font-weight: 500;
    }

    .footer-content {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 10px;
    }

    .footer-links a {
      color: var(--gray);
      text-decoration: none;
      transition: var(--transition);
    }

    .footer-links a:hover {
      color: var(--primary);
      text-decoration: underline;
    }

    .dark-mode footer {
      border-top-color: var(--dark-border);
    }

    .status-ok {
      color: var(--success);
      font-weight: 600;
    }

    .status-warning {
      color: var(--warning);
      font-weight: 600;
    }

    .status-danger {
      color: var(--danger);
      font-weight: 600;
    }

    .loading {
      display: inline-block;
      animation: spin 1s linear infinite;
    }

    .loader {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      font-weight: 500;
    }

    .loader::after {
      content: "";
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid var(--primary);
      border-top: 3px solid transparent;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    @media (max-width: 1200px) {
      .container {
        max-width: 100%;
        padding: 0 20px;
      }

      .top-section,
      .bottom-section {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 900px) {
      body {
        padding: 20px;
      }

      .info-cards {
        grid-template-columns: 1fr;
      }

      .chat-window {
        width: 320px;
      }

      header {
        flex-direction: column;
        height: auto;
        padding: 25px;
        gap: 20px;
      }

      .logo {
        justify-content: center;
      }

      .header-actions {
        flex-direction: column;
        gap: 15px;
        width: 100%;
      }

      .header-info {
        width: 100%;
        text-align: center;
        white-space: normal;
      }

      .theme-toggle-container {
        width: 100%;
        justify-content: center;
      }
    }

    @media (max-width: 600px) {
      .chat-container {
        bottom: 20px;
        right: 20px;
      }

      .chat-window {
        width: 300px;
        height: 450px;
        right: 10px;
      }

      .chat-btn {
        width: 60px;
        height: 60px;
        font-size: 1.5rem;
      }
    }

    .location-selects {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-bottom: 25px;
    }

    .map-container {
      margin-top: 25px;
      background: white;
      border-radius: 14px;
      height: 200px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.07);
      position: relative;
    }

    .dark-mode .map-container {
      background: var(--dark-card);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .map-placeholder {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
      flex-direction: column;
      color: var(--gray);
      padding: 20px;
      text-align: center;
    }

    .map-placeholder i {
      font-size: 3rem;
      margin-bottom: 15px;
      color: var(--primary);
    }

    .dark-mode .map-placeholder {
      color: var(--dark-text);
    }

    .skeleton {
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
      border-radius: 4px;
      color: transparent;
    }

    .dark-mode .skeleton {
      background: linear-gradient(90deg, #2c3e50 25%, #34495e 50%, #2c3e50 75%);
    }

    @keyframes shimmer {
      0% {
        background-position: 200% 0;
      }

      100% {
        background-position: -200% 0;
      }
    }

    .tooltip-container {
      position: relative;
      display: inline-block;
      margin-left: 8px;
    }

    .tooltip {
      display: inline-block;
      width: 18px;
      height: 18px;
      background: var(--primary-light);
      border-radius: 50%;
      text-align: center;
      line-height: 18px;
      font-size: 12px;
      font-weight: bold;
      color: var(--primary-dark);
      cursor: help;
      transition: var(--transition);
    }

    .dark-mode .tooltip {
      background: rgba(46, 204, 113, 0.2);
      color: var(--primary);
    }

    .tooltip:hover {
      background: var(--primary);
      color: white;
    }

    .tooltip-text {
      visibility: hidden;
      width: 200px;
      background: white;
      color: var(--dark);
      text-align: center;
      border-radius: 6px;
      padding: 10px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      margin-left: -100px;
      opacity: 0;
      transition: opacity 0.3s;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      font-size: 0.9rem;
      font-weight: normal;
      line-height: 1.4;
    }

    .dark-mode .tooltip-text {
      background: var(--dark-card);
      color: var(--dark-text);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
    }

    .tooltip-container:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }

    .chart-container {
      height: 120px;
      display: flex;
      align-items: flex-end;
      gap: 8px;
      padding: 15px 0;
      margin-top: 10px;
    }

    .chart-bar {
      flex: 1;
      background: var(--primary-light);
      border-radius: 4px 4px 0 0;
      position: relative;
      transition: height 0.5s ease;
    }

    .dark-mode .chart-bar {
      background: rgba(46, 204, 113, 0.2);
    }

    .chart-bar-label {
      position: absolute;
      bottom: -25px;
      width: 100%;
      text-align: center;
      font-size: 0.8rem;
      color: var(--gray);
    }

    .dark-mode .chart-bar-label {
      color: #95a5a6;
    }

    .highlight-banner {
      background: linear-gradient(135deg, #3498db, #2ecc71);
      color: white;
      border-radius: 18px;
      padding: 25px 35px;
      margin-bottom: 35px;
      display: flex;
      align-items: center;
      gap: 20px;
      box-shadow: var(--shadow);
      position: relative;
      transition: all 0.3s ease;
    }

    .highlight-banner i {
      font-size: 2.5rem;
      background: rgba(255, 255, 255, 0.2);
      width: 70px;
      height: 70px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
    }

    .highlight-content h3 {
      font-size: 1.4rem;
      margin-bottom: 8px;
    }

    .highlight-content p {
      opacity: 0.9;
    }

    .close-alert {
      position: absolute;
      top: 20px;
      right: 25px;
      background: none;
      border: none;
      color: white;
      font-size: 1.3rem;
      cursor: pointer;
      opacity: 0.8;
      transition: opacity 0.2s;
    }

    .close-alert:hover {
      opacity: 1;
      transform: scale(1.1);
    }

    .sparkline {
      height: 60px;
      width: 100%;
      margin-top: 15px;
      position: relative;
    }

    .sparkline-line {
      fill: none;
      stroke: var(--primary);
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .dark-mode .sparkline-line {
      stroke: var(--primary);
    }

    .sparkline-point {
      fill: var(--primary);
      stroke: white;
      stroke-width: 2;
      cursor: pointer;
      transition: r 0.2s;
    }

    .sparkline-point:hover {
      r: 5;
    }

    .sparkline-tooltip {
      position: absolute;
      background: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 6px 10px;
      border-radius: 4px;
      font-size: 0.8rem;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.2s;
      z-index: 100;
    }

    .empty-state {
      text-align: center;
      padding: 30px 0;
    }

    .empty-state i {
      font-size: 3.5rem;
      color: var(--primary-light);
      margin-bottom: 20px;
    }

    .empty-state p {
      color: var(--gray);
      font-size: 1.1rem;
    }

    .calendar-controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      color: var(--dark);
    }

    .dark-mode .calendar-controls {
      color: var(--dark-text);
    }

    .calendar-btn {
      background: var(--primary-light);
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: var(--primary);
      font-size: 1.2rem;
      transition: var(--transition);
    }

    .calendar-btn:hover {
      background: var(--primary);
      color: white;
    }

    .calendar-season {
      font-weight: 600;
      color: var(--primary-dark);
      font-size: 1.2rem;
    }

    .dark-mode .calendar-season {
      color: var(--primary);
    }

    .timeline {
      display: flex;
      margin-top: 20px;
      overflow-x: auto;
      padding-bottom: 10px;
    }

    .timeline-event {
      min-width: 120px;
      background: var(--primary-light);
      border-radius: 10px;
      padding: 12px;
      margin-right: 15px;
      text-align: center;
      flex-shrink: 0;
      transition: var(--transition);
    }

    .timeline-event:hover {
      transform: translateY(-3px);
    }

    .timeline-event h4 {
      color: var(--primary-dark);
      margin-bottom: 5px;
      font-size: 1.1rem;
    }

    .timeline-event p {
      font-size: 0.9rem;
      color: var(--dark);
    }

    .dark-mode .timeline-event p {
      color: var(--dark-text);
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin-top: 20px;
    }

    .calendar-month {
      background: var(--primary-light);
      border-radius: 10px;
      padding: 12px;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
    }

    .calendar-month:hover {
      transform: translateY(-3px);
    }

    .calendar-month.active {
      background: var(--primary);
      color: white;
    }

    .calendar-month h4 {
      font-size: 1rem;
      margin-bottom: 5px;
    }

    .calendar-month p {
      font-size: 0.85rem;
      color: var(--dark);
    }

    .dark-mode .calendar-month p {
      color: var(--dark-text);
    }

    .calendar-month.active p {
      color: #ffffff;
    }

    .month-plantio {
      background: rgba(46, 204, 113, 0.2);
    }

    .month-crescimento {
      background: rgba(243, 156, 18, 0.2);
    }

    .month-colheita {
      background: rgba(155, 89, 182, 0.2);
    }

    .month-manutencao {
      background: rgba(52, 152, 219, 0.2);
    }

    .month-plantio.active {
      background: var(--success);
    }

    .month-crescimento.active {
      background: var(--warning);
    }

    .month-colheita.active {
      background: #9b59b6;
    }

    .month-manutencao.active {
      background: #3498db;
    }

    .agro-decoration {
      position: absolute;
      font-size: 1.5rem;
      opacity: 0.2;
      z-index: -1;
    }

    .agro-1 {
      top: 15%;
      left: 5%;
      transform: rotate(-15deg);
    }

    .agro-2 {
      top: 25%;
      right: 10%;
      transform: rotate(25deg);
    }

    .agro-3 {
      bottom: 20%;
      left: 8%;
      transform: rotate(10deg);
    }

    .agro-4 {
      bottom: 30%;
      right: 7%;
      transform: rotate(-20deg);
    }

    .dark-mode .agro-decoration {
      opacity: 0.1;
    }

    .notification-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      gap: 12px;
      max-width: 380px;
    }

    .notification {
      background: white;
      border-radius: 12px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      padding: 18px 22px;
      display: flex;
      align-items: flex-start;
      gap: 16px;
      border-left: 5px solid #f39c12;
      transform: translateX(120%);
      opacity: 0;
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      max-width: 380px;
    }

    .notification.show {
      transform: translateX(0);
      opacity: 1;
    }

    .notification.hide {
      transform: translateX(120%);
      opacity: 0;
    }

    .notification-icon {
      font-size: 1.6rem;
      width: 42px;
      height: 42px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      flex-shrink: 0;
    }

    .notification-content {
      flex: 1;
      color: var(--dark);
    }

    .dark-mode .notification-content {
      color: var(--dark-text);
    }

    .notification-title {
      font-weight: 700;
      font-size: 1.1rem;
      margin-bottom: 6px;
      color: #2c3e50;
    }

    .dark-mode .notification-title {
      color: #ecf0f1;
    }

    .notification-message {
      font-size: 0.95rem;
      color: #7f8c8d;
      line-height: 1.5;
    }

    .dark-mode .notification-message {
      color: #bdc3c7;
    }

    .notification-close {
      background: none;
      border: none;
      color: #95a5a6;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.2s;
      padding: 5px;
    }

    .notification-close:hover {
      color: #e74c3c;
      transform: scale(1.1);
    }

    .notification-warning {
      border-left-color: #f39c12;
      background: linear-gradient(to right, #fff8e6 0%, #fff 30%);
    }

    .notification-warning .notification-icon {
      background: rgba(243, 156, 18, 0.15);
      color: #f39c12;
    }

    .notification-error {
      border-left-color: #e74c3c;
      background: linear-gradient(to right, #ffeded 0%, #fff 30%);
    }

    .notification-error .notification-icon {
      background: rgba(231, 76, 60, 0.15);
      color: #e74c3c;
    }

    .notification-success {
      border-left-color: #2ecc71;
      background: linear-gradient(to right, #e8faf0 0%, #fff 30%);
    }

    .notification-success .notification-icon {
      background: rgba(46, 204, 113, 0.15);
      color: #2ecc71;
    }

    .notification-info {
      border-left-color: #3498db;
      background: linear-gradient(to right, #ebf5fb 0%, #fff 30%);
    }

    .notification-info .notification-icon {
      background: rgba(52, 152, 219, 0.15);
      color: #3498db;
    }

    .dark-mode .notification {
      background: #2c3e50;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    .dark-mode .notification-warning {
      background: linear-gradient(to right, #3d2e1d 0%, #2c3e50 30%);
    }

    .dark-mode .notification-error {
      background: linear-gradient(to right, #3d1e1d 0%, #2c3e50 30%);
    }

    .dark-mode .notification-success {
      background: linear-gradient(to right, #1d3d2b 0%, #2c3e50 30%);
    }

    .dark-mode .notification-info {
      background: linear-gradient(to right, #1d2d3d 0%, #2c3e50 30%);
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 2000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.7);
    }

    .modal-content {
      background-color: #fefefe;
      margin: 5% auto;
      padding: 30px;
      border: 1px solid #888;
      width: 80%;
      max-width: 800px;
      border-radius: 16px;
      box-shadow: 0 5px 30px rgba(0, 0, 0, 0.3);
      position: relative;
    }

    .dark-mode .modal-content {
      background-color: var(--dark-card);
      border-color: var(--dark-border);
    }

    .close-modal {
      color: #aaa;
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }

    .close-modal:hover {
      color: var(--primary);
    }

    .agricultural-info {
      margin-top: 20px;
      line-height: 1.6;
    }

    .agricultural-info h4 {
      margin-top: 20px;
      color: var(--primary-dark);
    }

    .dark-mode .agricultural-info h4 {
      color: var(--primary);
    }

    .agricultural-info ul {
      padding-left: 20px;
      margin: 10px 0;
    }

    .agricultural-info li {
      margin-bottom: 8px;
    }

    .crop-link {
      color: var(--primary);
      cursor: pointer;
      text-decoration: underline;
    }

    .crop-link:hover {
      color: var(--primary-dark);
    }

    #activateBot {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: var(--primary);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.7rem;
      box-shadow: 0 8px 25px rgba(46, 204, 113, 0.45);
      cursor: pointer;
      transition: var(--transition);
      position: fixed;
      bottom: 40px;
      left: 40px;
      border: none;
      z-index: 2000;
    }

    #activateBot::after {
      content: '';
      position: absolute;
      top: -5px;
      left: -5px;
      right: -5px;
      bottom: -5px;
      border: 2px solid var(--primary);
      border-radius: 50%;
      animation: pulse 1.5s infinite;
      pointer-events: none;
    }

    #activateBot:hover {
      transform: scale(1.1);
      background: var(--primary-dark);
    }

    #activateBot:active {
      transform: scale(0.95);
    }

    #activateBot i {
      font-size: 1.7rem;
    }

    .dark-mode .calendar-month {
      background: var(--dark-card, #223344);
      color: var(--dark-text, #ffffff);
      border: 1px solid var(--primary);
    }

    .dark-mode .calendar-month h4 {
      color: var(--primary);
    }

    .dark-mode .calendar-month p {
      color: var(--dark-text, #ffffff);
    }

    .bottom-section {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
    }

    .bottom-section .card {
      flex: 1 1 500px;
      max-width: 800px;
      box-sizing: border-box;
    }

    .overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.6);
      justify-content: center;
      align-items: center;
      z-index: 3000;
    }

    .popup-robo {
      background: #223344;
      color: #fff;
      padding: 28px 22px 22px 22px;
      border-radius: 14px;
      width: 340px;
      max-width: 95vw;
      box-shadow: 0 0 20px #0008;
      position: relative;
      text-align: center;
    }

    .popup-robo h3 {
      color: #27ae60;
      margin-top: 0;
      font-weight: 700;
    }

    .popup-robo button {
      margin: 10px 0 0 0;
      width: 90%;
      background: #27ae60;
      color: #fff;
      border: none;
      border-radius: 7px;
      padding: 10px 0;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
    }

    .popup-robo button:hover {
      background: #219150;
    }

    .popup-robo .close-btn {
      position: absolute;
      top: 10px;
      left: 10px;
      background: #e74c3c;
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 28px;
      height: 28px;
      font-size: 1.1rem;
      cursor: pointer;
      font-weight: bold;
    }

    #mapaRobo {
      width: 100%;
      height: 180px;
      border-radius: 10px;
      margin: 12px 0 0 0;
      background: #fff;
    }

 /* Overlay do popup */
#loginPopupOverlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0,0,0,0.5);
  justify-content: center;
  align-items: center;
  z-index: 5000;
}

/* Caixa do popup */
#loginPopupOverlay > div {
  background: #fff; /* fundo claro por padrão */
  color: #000;
  border-radius: 14px;
  padding: 32px 24px 24px 24px;
  width: 90%;
  max-width: 500px;
  box-shadow: 0 0 20px #0008;
  position: relative;
  transition: background 0.3s, color 0.3s;
}

/* Caixa no modo escuro */
.dark-mode #loginPopupOverlay > div {
  background: #223344; /* fundo escuro */
  color: #fff;
}


#closeLoginPopup:hover {
  color: #e74c3c;
}

/* Inputs */
#loginPopupOverlay input {
  width: 100%;
  padding: 12px 15px;
  margin-bottom: 15px;
  border: 1px solid #ddd;
  border-radius: 8px;
  font-size: 1rem;
  background: #fff;
  color: #000;
  transition: background 0.3s, color 0.3s, border-color 0.3s;
}

.dark-mode #loginPopupOverlay input {
  background: #445566;
  color: #fff;
  border-color: #667788;
}

/* Botões do popup */
#loginPopupOverlay button {
  width: 100%;
  padding: 12px;
  margin-bottom: 10px;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  cursor: pointer;
  font-weight: 600;
  transition: background 0.3s, color 0.3s;
}

#doLogin {
  background: #27ae60;
  color: white;
}

#doLogin:hover {
  background: #219150;
}

/* Mensagem de erro */
#loginMsg {
  text-align: center;
  margin-top: 15px;
  font-size: 0.95rem;
  min-height: 1.2em;
  color: #e74c3c;
}


    @media (max-width: 500px) {
      #loginPopupOverlay > div {
        padding: 18px 8px 16px 8px;
        max-width: 98vw;
      }
    }

    /* ---------- Estilos do popup do robô e ajustes ---------- */
    .popup {
      background-color: #2c3e50;
      padding: 20px;
      border-radius: 10px;
      max-width: 350px;
      margin: 16px;
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
      color: white;
    }

    #campoCoordenadas input[type="text"] {
      border: 1px solid white;
      outline: none;
      box-shadow: none;
      background: transparent;
      border-radius: 4px;
      padding: 4px 8px;
      color: white;
    }


    

    .popup button {
      padding: 10px 15px;
      font-size: 16px;
      border: 1px solid #2ecc71;
      border-radius: 5px;
      cursor: pointer;
      background-color: #223344;
      color: white;
      transition: background-color 0.3s, border-color 0.3s;
    }

    .popup button:hover {
      background-color: #1a1f24;
    }

    #btnAnalise {
      background-color: #27ae60;
      color: white;
      margin-top: 10px;
    }

    #analise-solo, #status, #bateria {
      margin: 10px 0;
      font-weight: bold;
      color: white;
    }

    #mapa, #mapaPopup {
      width: 100%;
      height: 200px;
      border-radius: 10px;
      margin-top: 10px;
      background: #e6eef5;
    }

    .popup-box {
      background: #223344;
      padding: 20px;
      border-radius: 10px;
      width: 320px;
      text-align: center;
      position: relative;
      color: white;
    }

    .popup-box input {
      padding: 8px;
      width: calc(50% - 8px);
      margin: 4px;
      border-radius: 5px;
      border: 1px solid #ccc;
      background: white;
      color: var(--dark);
    }

    .popup-box button {
      padding: 8px 12px;
      margin-top: 8px;
      cursor: pointer;
    }

    .close-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #e74c3c;
      color: white;
      border: none;
      border-radius: 50%;
      width: 28px;
      height: 28px;
      cursor: pointer;
      font-weight: 700;
    }

    h3 {
      color: white;
      font-weight: 600;
    }

    .verde {
      color: #2ecc71;
      font-weight: 700;
    }

    .vermelho {
      color: #e74c3c;
      font-weight: 700;
    }

    .amarelo {
      color: #f1c40f;
      font-weight: 700;
    }

    /* popup wrapper escondido por padrão e animado */
    #robotPopupWrapper {
      display: none;
      opacity: 0;
      transform: translateY(8px);
      transition: opacity 180ms ease, transform 180ms ease;
      position: fixed;
      bottom: 130px;
      left: 35px;
      right: auto;
      z-index: 5000;
    }

    @media (max-width: 600px) {
      #robotPopupWrapper {
        right: auto;
        left: 10px;
        bottom: 10px;
      }
      .popup {
        max-width: 90vw;
        margin: 12px;
      }
    }

    .leaf-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0.1;
      z-index: -1;
      background-image:
        radial-gradient(var(--primary) 2px, transparent 2px),
        radial-gradient(var(--primary-dark) 2px, transparent 2px);
      background-size: 80px 80px;
      background-position: 0 0, 40px 40px;
      transition: var(--transition);
    }

    .dark-mode .leaf-bg {
      background-image:
        radial-gradient(#3498db 2px, transparent 2px),
        radial-gradient(#2980b9 2px, transparent 2px);
    }

    .recommend-boxes {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      list-style: none;
      padding: 0;
      margin: 18px 0;
    }

    .recommend-boxes li {
      background: #ffffff;
      border: 2px solid var(--primary-light, #ffffff);
      border-radius: 14px;
      box-shadow: 0 2px 10px rgba(46,204,113,0.07);
      padding: 18px 20px;
      min-width: 160px;
      flex: 1 1 160px;
      font-size: 1.08rem;
      display: flex;
      align-items: center;
      gap: 12px;
      transition: box-shadow 0.2s, border 0.2s;
    }

    .recommend-boxes li:hover {
      border-color: var(--primary, #2ecc71);
      box-shadow: 0 4px 18px rgba(46,204,113,0.15);
      background: var(--primary-light, #d1f2e5);
    }

    .dark-mode .recommend-boxes li {
      background: var(--dark-card, #223344);
      border-color: var(--primary, #2ecc71);
      color: var(--dark-text, #e0e7ff);
    }

    .empty-state-inner {
      background: #24404a;
      border: 2px solid var(--primary);
      border-radius: 18px;
      padding: 40px 30px 24px 30px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 180px;
      max-width: 100%;
      margin: 0 auto;
    }

    .empty-state-inner i {
      font-size: 3.5rem;
      color: var(--primary-light);
      margin-bottom: 20px;
    }

    .empty-state-inner p {
      color: #34495e;
      font-size: 1.18rem;
      margin: 0;
    }

    .result-box .empty-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: #ffffff;
    }

    .result-box .empty-state i {
      font-size: 40px;
      color: #3ed17f;
      margin-bottom: 10px;
    } 
    /* === Robot popup: modo claro por padrão, modo escuro quando body.dark-mode === true === */
/* === Robot popup: estilo claro por padrão e escuro com body.dark-mode === */

/* Aparência clara (modo padrão) */
#robotPopupWrapper .popup {
  background: var(--card-bg);            /* fundo claro */
  color: white;                   /* texto escuro */
  border: 1px solid rgba(0,0,0,0.06);
  box-shadow: var(--shadow);
}


/* Botão fechar (substitui inline se houver) */
#robotPopupWrapper #closeRobotPopup {
  background: #e74c3c !important;
  color: #fff !important;
}




#closeRobotPopup {
  position: absolute;
  top: 10px;
  right: 10px;
  background: #e74c3c;
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 22px;
  height: 22px;
  font-size: 0.8rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  line-height: 1;
}

/* Aparência escura quando o body tiver a classe dark-mode */
body.dark-mode #robotPopupWrapper .popup {
  background: var(--dark-card);
  color: var(--dark-text);
  border: 1px solid var(--dark-border);
  box-shadow: 0 6px 30px rgba(0,0,0,0.25);
}

/* Botão fechar no modo escuro */
body.dark-mode #robotPopupWrapper #closeRobotPopup {
  background: #c0392b !important;
  color: #fff !important;
}

/* animação / classes utilitárias (se estiver usando .show) */
#robotPopupWrapper {
  display: none;
  opacity: 0;
  transform: translateY(8px);
  transition: opacity 180ms ease, transform 180ms ease;
  position: fixed;
  bottom: 130px;
  left: 35px;
  z-index: 5000;
}
#robotPopupWrapper.show {
  display: block;
  opacity: 1;
  transform: translateY(0);
}











/* Overlay comum */
#loginPopupOverlay,
#registerPopupOverlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.5);
  justify-content: center;
  align-items: center;
  z-index: 5002; /* Login: 5002 / Register: 5003 */
}
#registerPopupOverlay div {
  background: #fff;
  color: #27ae60;
  border-radius: 10px;
  padding: 32px 24px 24px 24px;
  min-width: 300px;
  position: relative;
  box-shadow: 0 0 20px #0008;
}

/* Light mode */
.dark-mode #registerPopupOverlay div {
  background: #223344;
  color: #223344;
  box-shadow: 0 0 15px rgba(0,0,0,0.2);
}






#closeLoginPopup,
#closeRegisterPopup {
   position: absolute;
  top: 10px;
  right: 10px;

  width: 34px !important;      /* tamanho fixo */
  height: 34px !important;
  min-width: 0 !important;     /* override de regras globais */
  padding: 0 !important;       /* garante que fique redondo */
  border-radius: 50% !important;

  display: flex !important;
  align-items: center;
  justify-content: center;

  background: #e74c3c !important;
  color: #fff !important;
  border: none !important;
  font-size: 0.95rem;
  line-height: 1;
  cursor: pointer;
  z-index: 9999;               /* acima de tudo */
  box-shadow: 0 3px 8px rgba(0,0,0,0.25);
}


/* Títulos */
#loginPopupOverlay h3,
#registerPopupOverlay h3 {
  margin-top: 0;
  color: #27ae60;
  text-align: center;
  font-size: 24px;
}

/* Inputs comuns */
#loginPopupOverlay input,
#registerPopupOverlay input {
  width: 100%;
  margin-bottom: 10px;
  padding: 8px;
  border-radius: 5px;
}

/* Inputs específicos do register */
#registerPopupOverlay input {
  margin-bottom: 12px;
  padding: 10px;
}

/* Botões principais */
#loginPopupOverlay button,
#registerPopupOverlay button {
  width: 100%;
  border: none;
  border-radius: 5px;
  padding: 10px 0;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Botão Entrar */
#doLogin {
  background: #27ae60;
  color: #fff;
  margin-bottom: 10px;
}

/* Botão Cadastrar */
#doRegister {
  background: #27ae60;
  color: #fff;
  border: 1px solid rgba(255, 255, 255, 0.12);
  box-shadow: none;
  text-shadow: none;
  outline: none;
  margin-top: 10px;
}

/* Botão Finalizar Cadastro */
#doCompleteRegister {
  background: #27ae60;
  color: #fff;
}

/* Botão Voltar para Login */
#backToLogin {
  background: #27ae60;
  color: #fff;
  margin-top: 10px;
}

/* Mensagens de erro */
#loginMsg {
  margin-top: 8px;
  color: #e74c3c;
  font-size: 0.95em;
  text-align: center;
}




    /* Botão de fechar */
#closePopup {
  position: absolute;
  top: 10px;
  right: 10px;
  background: #e74c3c;
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 22px;
  height: 22px;
  font-size: 0.8rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  line-height: 1;
}

/* Popup */
.overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.5);
  display: none; /* abre só quando precisar */
  justify-content: center;
  align-items: center;
  z-index: 5000;
}

.popup-box {
  position: relative;
  background: #fff;
  padding: 20px;
  border-radius: 12px;
  width: 350px;
  max-width: 90%;
  box-shadow: 0 6px 18px rgba(0,0,0,0.2);
}

/* Mapa dentro do popup */
#mapaPopup {
  width: 100%;
  height: 200px;
  border-radius: 8px;
}




/* Título do popup */
.popup-box h3 {
  color: #ffffff;        /* preto */
  text-align: center; /* centralizado */
  margin-bottom: 15px;
}

/* Inputs */
.popup-box input {
  width: 100%;
  padding: 8px;
  margin: 5px 0;
  border: 1px solid #ccc;
  border-radius: 6px;
  font-size: 0.9rem;
  text-align: center;
}

/* Container de botões */
#campoCoordenadas,
#campoMapa {
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center; /* centraliza horizontalmente */
}

/* Botões */
#campoCoordenadas button,
#campoMapa button {
  padding: 10px 20px;
  border: none;
  border-radius: 8px;
  background: #2ecc71;
  color: #fff;
  cursor: pointer;
  font-size: 0.9rem;
  font-weight: bold;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  transition: background 0.2s;
}

#campoCoordenadas button:hover,
#campoMapa button:hover {
  background: #2ecc71;
}



/* Título */
.popup-box h3 {
  color: #ffffff;        /* preto */
  text-align: center;
  margin-bottom: 10px;
}

/* Parágrafos dentro do popup */
.popup-box p {
  color: #fffdfd;        /* preto */
  margin-bottom: 8px;
  text-align: center;
  font-size: 0.9rem;
}

/* Área do mapa */
#mapaPopup {
  width: 100%;
  height: 200px;
  border-radius: 8px;
  margin: 10px 0;
}

/* Container do campoMapa */
#campoMapa {
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;
}

/* Botões */
#campoMapa button {
  padding: 10px 20px;
  border: none;
  border-radius: 8px;
  background: #2ecc71;
  color: #fff;
  cursor: pointer;
  font-size: 0.9rem;
  font-weight: bold;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  transition: background 0.2s;
}

#campoMapa button:hover {
  background: #219150;
}


/* Botão voltarCoords */
#voltarCoords {
  padding: 10px 20px;
  border: none;
  border-radius: 8px;
  background: #2ecc71;
  color: #fff;
  cursor: pointer;
  font-size: 0.9rem;
  font-weight: bold;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  transition: background 0.2s;
  display: block;
  margin: 10px auto 0 auto; /* centraliza no popup */
}

#voltarCoords:hover {
  background: #2ecc71;
}








/* Botões principais */
#btnConectar,
#btnMarcar,
#btnAnalise,
#usarCoordenadas,
#trocarMapa,
#voltarCoords {
  padding: 10px 20px;
  border: none;
  border-radius: 8px;
  background: #2ecc71;
  color: #fff;
  cursor: pointer;
  font-size: 0.9rem;
  font-weight: bold;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  transition: background 0.2s, opacity 0.2s;
  display: block;
  margin: 10px auto;
}

/* Hover só quando ativo */
#btnConectar:hover:enabled,
#btnMarcar:hover:enabled,
#btnAnalise:hover:enabled,
#usarCoordenadas:hover:enabled,
#trocarMapa:hover:enabled,
#voltarCoords:hover:enabled {
  background: #2ecc71;
}

/* Desabilitado */
#btnConectar:disabled,
#btnMarcar:disabled {
  background: #95a5a6 !important;
  color: #fff !important;
  cursor: not-allowed;
  opacity: 0.7;
  box-shadow: none;
}



/* === OVERRIDES: popup respeita dark-mode === */
/* Overwrite popup quando body tiver .dark-mode */
body.dark-mode .overlay {
  background: rgba(0,0,0,0.75); /* mais escuro quando o site estiver no escuro */
}

body.dark-mode .popup-box {
  background: var(--dark-card);   /* usa a variável dark que tu já tem */
  color: var(--dark-text);
  border: 1px solid var(--dark-border);
  box-shadow: 0 6px 24px rgba(0,0,0,0.8);
}

/* título / parágrafos */
body.dark-mode .popup-box h3,
body.dark-mode .popup-box p,
body.dark-mode .popup-box label {
  color: var(--dark-text);
}

/* inputs dentro do popup */
body.dark-mode .popup-box input,
body.dark-mode .popup-box select,
body.dark-mode .popup-box textarea {
  background: #0b1220;            /* fundo escuro pros inputs */
  color: var(--dark-text);
  border-color: var(--dark-border);
}

/* placeholder legível */
body.dark-mode .popup-box input::placeholder,
body.dark-mode .popup-box textarea::placeholder {
  color: rgba(224,231,255,0.45);  /* tom claro mas suave */
}

/* botões dentro do popup (mantém verde, garante contraste) */
body.dark-mode .popup-box button,
body.dark-mode .popup-box .btn-ghost {
  background: var(--primary);
  color: #fff;                    /* garante legibilidade do texto do botão */
  box-shadow: 0 4px 10px rgba(0,0,0,0.4);
}

/* botão fechar (x) fica OK no escuro */
body.dark-mode #closePopup {
  background: #c94a4a;
  color: #fff;
  border: none;
}

/* se o mapa leaflet dentro do popup precisar de ajuste visual */
body.dark-mode .popup-box .leaflet-container {
  background: transparent;
}

/* Força maior especificidade caso tenha outro CSS sobrescrevendo */
body.dark-mode .overlay .popup-box,
body.dark-mode .overlay .popup-box * {
  transition: background-color .15s ease, color .15s ease;
}




/* === CORREÇÃO RÁPIDA: popup segue modo claro por padrão e dark quando body.dark-mode === */

/* Força padrão claro (evita texto branco em popup claro) */
.popup-box {
  background: #fff !important;
  color: white !important;               /* texto escuro legível no claro */
  border: 1px solid #e6e6e6 !important;
  box-shadow: 0 6px 18px rgba(0,0,0,0.08) !important;
}

/* Títulos e parágrafos usam a cor herdada (garante consistência) */
.popup-box h3,
.popup-box p,
.popup-box label {
  color: inherit !important;
}

/* Inputs / selects / textarea no popup (legibilidade) */
.popup-box input,
.popup-box textarea,
.popup-box select {
  background: #fff !important;
  color: inherit !important;
  border: 1px solid #d5dbe0 !important;
}

.popup-box input::placeholder,
.popup-box textarea::placeholder {
  color: #7a7a7a !important;
}

/* Botões dentro do popup (texto sempre legível) */
.popup-box button {
  color: #fff !important;
}






/* Garante texto branco em TODOS os botões no modo claro */
body:not(.dark-mode) #btnConectar,
body:not(.dark-mode) #btnMarcar,
body:not(.dark-mode) #btnAnalise {
  color: white;
}

/* Fechar (X) fica contrastante no claro */
.popup-box #closePopup {
  background: #e74c3c !important;
  color: #fff !important;
}

/* === Dark mode overrides === */
body.dark-mode .popup-box {
  background: var(--dark, #0b1220) !important;   /* usa sua variável se existir */
  color: var(--light, #eaf7ec) !important;
  border-color: #22303a !important;
  box-shadow: 0 6px 24px rgba(0,0,0,0.7) !important;
}

body.dark-mode .popup-box input,
body.dark-mode .popup-box textarea,
body.dark-mode .popup-box select {
  background:  #22303a !important;
  color: var(--light, #eaf7ec) !important;
  border-color: #22303a !important;
}

body.dark-mode .popup-box input::placeholder,
body.dark-mode .popup-box textarea::placeholder {
  color: rgba(234,247,236,0.45) !important;
}

body.dark-mode .popup-box #closePopup {
  background: #c94a4a !important;
  color: #fff !important;
}



#btnTopo {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  background: var(--primary);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.7rem;
  box-shadow: 0 8px 25px rgba(46, 204, 113, 0.45);
  cursor: pointer;
  transition: var(--transition);
  position: fixed;
  top: 30px;           /* fica no topo */
  left: 40px;         /* canto direito */
  border: none;
  z-index: 2000;
  opacity: 0;
  pointer-events: none; /* não clicável quando invisível */
}

#btnTopo.show {
  opacity: 1;
  pointer-events: auto;
}

#btnTopo:hover {
  transform: scale(1.1);
}

/* Container da anchor-nav */
.anchor-nav {
  display: flex;
  justify-content: center;
  gap: 1rem;
  flex-wrap: wrap;
  padding: 0.6rem 1rem;
  margin: 15px auto;
  background: white;
  backdrop-filter: blur(6px);
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  
  top: 10px;
  z-index: 100;
}

/* Links */
.anchor-nav a {
  text-decoration: none;
  color: #2f855a;
  font-size: 1rem;
  font-weight: 500;
  padding: 0.4rem 0.9rem;
  border-radius: 8px;
  transition: all 0.2s ease;
  position: relative;
}

/* Efeito de hover */
.anchor-nav a:hover {
  background: #2ecc71;
  color: white;
  box-shadow: 0 4px 12px rgba(46, 204, 113, 0.35);
  transform: translateY(-2px);
}

/* Estado ativo (quando o user está naquela seção) */
.anchor-nav a.active {
  background: #2ecc71;
  color: white;
  font-weight: 600;
  box-shadow: 0 4px 12px rgba(46, 204, 113, 0.35);
}

/* 🌙 Modo escuro */
body.dark-mode .anchor-nav {
  background: #223344;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6);
}

body.dark-mode .anchor-nav a {
  color: #e0e7ff;
}

body.dark-mode .anchor-nav a:hover,
body.dark-mode .anchor-nav a.active {
  background: #27ae60;
  color: white;
  box-shadow: 0 4px 14px rgba(39, 174, 96, 0.5);
}

/* Moved inline styles from index.html */

/* #btnTopo styles */
#btnTopo {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  background: var(--primary);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.7rem;
  box-shadow: 0 8px 25px rgba(46, 204, 113, 0.45);
  cursor: pointer;
  transition: var(--transition);
  position: fixed;
  top: 30px;
  left: 40px;
  border: none;
  z-index: 2000;
  opacity: 0;
  pointer-events: none;
}

#btnTopo.show {
  opacity: 1;
  pointer-events: auto;
}

#btnTopo:hover {
  transform: scale(1.1);
}

/* #historyPopupOverlay styles */
#historyPopupOverlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0,0,0,0.6);
  justify-content: center;
  align-items: center;
  z-index: 3000;
}

/* #cityMap styles */
#cityMap {
  display: none;
  width: 100%;
  height: 200px;
  border-radius: 10px;
  margin-top: 10px;
  background: #e6eef5;
}

/* #campoMapa styles */
#campoMapa {
  display: none;
  flex-direction: column;
  gap: 10px;
  align-items: center;
}

/* p inside chat messages */
.message p {
  margin-left: 10px;
  margin-top: 5px;
}

/* #activateBot styles */
#activateBot {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  background: var(--primary);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.7rem;
  box-shadow: 0 8px 25px rgba(46, 204, 113, 0.45);
  cursor: pointer;
  transition: var(--transition);
  position: fixed;
  bottom: 40px;
  left: 40px;
  border: none;
  z-index: 2000;
}

#activateBot::after {
  content: '';
  position: absolute;
  top: -5px;
  left: -5px;
  right: -5px;
  bottom: -5px;
  border: 2px solid var(--primary);
  border-radius: 50%;
  animation: pulse 1.5s infinite;
  pointer-events: none;
}

#activateBot:hover {
  transform: scale(1.1);
  background: var(--primary-dark);
}

#activateBot:active {
  transform: scale(0.95);
}

#activateBot i {
  font-size: 1.7rem;
}




#historyButton {
  display: none;
}







/* wrapper */
#historyPopupOverlay > div,
.history-popup {
  width: min(880px, 98%);
  max-height: 90vh;
  overflow: auto;
  border-radius: var(--border-radius, 16px);
  background: #fff; /* light default */
  color: #1f2937;
  box-shadow: 0 10px 40px rgba(0,0,0,0.16);
  border: 1px solid rgba(0,0,0,0.06);
  padding: 0;
  position: relative;
  transform: translateY(6px);
  transition: all 0.2s ease;
}

/* DARK MODE */
body.dark-mode #historyPopupOverlay > div,
body.dark-mode .history-popup {
  background: #223344;
  color: #fff;
  border: 1px solid #34495e;
}

/* header */
#historyPopupOverlay .header,
#historyPopupOverlay h3,
.history-popup .header {
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: white;
  padding: 28px 24px;
  border-top-left-radius: 16px;
  border-top-right-radius: 16px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

/* conteúdo e tabela */
#historyPopupOverlay .content,
#historyContent,
#historyPopupOverlay #historyTable {
  padding: 18px 24px 22px 24px;
  background: transparent;
  color: inherit;
}

/* tabela cabeçalho */
#historyPopupOverlay #historyTable thead th {
  text-align: left;
  padding: 12px 14px;
  font-weight: 700;
  font-size: .95rem;
  background: linear-gradient(90deg, rgba(46,204,113,0.12), rgba(46,204,113,0.04));
  color: inherit;
  border-bottom: 1px solid rgba(0,0,0,0.06);
}

/* DARK MODE cabeçalho da tabela */
body.dark-mode #historyPopupOverlay #historyTable thead th {
  background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  color: #fff;
  border-bottom: 1px solid #555;
}

/* tabela linhas */
#historyPopupOverlay #historyTable tbody td {
  padding: 12px 14px;
  font-size: .95rem;
  border-bottom: 1px solid rgba(0,0,0,0.04);
  color: inherit;
}

/* DARK MODE tabela linhas */
body.dark-mode #historyPopupOverlay #historyTable tbody td {
  color: #fff;
  border-bottom: 1px solid #555;
}

/* hover */
#historyPopupOverlay #historyTable tbody tr:hover td {
  background: rgba(46,204,113,0.03);
}

body.dark-mode #historyPopupOverlay #historyTable tbody tr:hover td {
  background: rgba(46,204,113,0.15);
}

/* footer */
#historyPopupOverlay .footer {
  padding: 12px 20px;
  background: #f9f9f9;
  border-top: 1px solid rgba(0,0,0,0.04);
  text-align: center;
  font-size: .95rem;
  color: inherit;
}

/* DARK MODE footer */
body.dark-mode #historyPopupOverlay .footer {
  background: #1b2836;
  color: #d0d4dd;
  border-top: 1px solid #34495e;
}

/* botão fechar */
#closeHistoryPopup {
  position: absolute;
  top: 10px;
  right: 10px;

  width: 34px !important;      /* tamanho fixo */
  height: 34px !important;
  min-width: 0 !important;     /* override de regras globais */
  padding: 0 !important;       /* garante que fique redondo */
  border-radius: 50% !important;

  display: flex !important;
  align-items: center;
  justify-content: center;

  background: #e74c3c !important;
  color: #fff !important;
  border: none !important;
  font-size: 0.95rem;
  line-height: 1;
  cursor: pointer;
  z-index: 9999;               /* acima de tudo */
  box-shadow: 0 3px 8px rgba(0,0,0,0.25);
}

#closeHistoryPopup:hover {
  transform: scale(1.06);
  box-shadow: 0 10px 26px rgba(0,0,0,0.18);
}

/* cards internos */
#historyPopupOverlay .city-card,
#historyPopupOverlay .cidade,
#historyPopupOverlay .location-card {
  border: none;
  box-shadow: 0 4px 12px rgba(0,0,0,0.06);
  background: #fff;
  color: #1f2937;
}

/* DARK MODE cards internos */
body.dark-mode #historyPopupOverlay .city-card,
body.dark-mode #historyPopupOverlay .cidade,
body.dark-mode #historyPopupOverlay .location-card {
  background: #2a3a50;
  color: #fff;
  box-shadow: none;
}

/* RESPONSIVO */
@media (max-width: 720px) {
  #historyPopupOverlay > div,
  .history-popup {
    width: calc(100% - 28px);
    max-height: 92vh;
    border-radius: 12px;
  }

  #closeHistoryPopup {
    top: 10px;
    right: 10px;
    width: 32px;
    height: 32px;
  }
}







/* ---------- Day list: light + dark mode ---------- */
.day-item {
  padding: 12px;
  border-radius: 10px;
  margin-bottom: 8px;
  background: transparent;
  border: 1px solid rgba(0,0,0,0.04);
  transition: var(--transition);
}

/* header dentro do item */
.day-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  cursor: pointer;
  padding: 6px;
  user-select: none;
}

.day-header:focus,
.day-header:focus-within {
  outline: 2px solid rgba(46,204,113,0.18);
  border-radius: 8px;
}

/* info do dia */
.day-info {
  text-align: left;
}

.day-info h2 {
  font-size: 18px;
  font-weight: 600;
  color: #111827; /* dark slate for light mode */
  margin: 0 0 4px 0;
}

.day-info p {
  font-size: 13px;
  color: #6b7280;
  margin: 0;
}

/* chevron */
.chevron {
  font-size: 14px;
  color: #6b7280;
  transition: transform 0.28s ease, color 0.2s;
  transform-origin: center;
}

/* conteúdo (colapsável) */
.metrics-content {
  display: none; /* fechado por padrão */
  margin-top: 10px;
  padding-top: 8px;
  border-top: 1px dashed rgba(0,0,0,0.04);
}

/* grid interno */
.metrics-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
  gap: 10px;
}

/* classe de estado expanded */
.day-item.expanded {
  background: rgba(46,204,113,0.03);
  border-color: rgba(46,204,113,0.12);
}

.day-item.expanded .metrics-content {
  display: block;
}

.day-item.expanded .chevron {
  transform: rotate(180deg);
}

/* pequenas cards dentro da grid (exemplo) */
.metrics-grid .metric-card {
  background: #ffffff;
  border-radius: 8px;
  padding: 10px;
  border: 1px solid rgba(0,0,0,0.04);
  box-shadow: 0 4px 10px rgba(0,0,0,0.03);
  transition: var(--transition);
}

/* ===== Dark mode overrides ===== */
body.dark-mode .day-item {
  background: var(--dark-card);
  border-color: var(--dark-border);
  color: var(--dark-text);
}

body.dark-mode .day-item.expanded {
  background: rgba(255,255,255,0.03); /* sutil highlight no dark */
  border-color: rgba(46,204,113,0.12);
}

body.dark-mode .day-header {
  color: var(--dark-text);
}

body.dark-mode .day-info h2 {
  color: var(--dark-text);
}

body.dark-mode .day-info p {
  color: #95a5a6;
}

body.dark-mode .chevron {
  color: #9aa6b2;
}

body.dark-mode .metrics-content {
  border-top-color: rgba(255,255,255,0.03);
}

body.dark-mode .metrics-grid .metric-card {
  background: var(--dark-card);
  border-color: var(--dark-border);
  box-shadow: 0 4px 12px rgba(0,0,0,0.25);
  color: var(--dark-text);
}



/* SEMPRE texto branco nos botões principais, em qualquer modo */
#btnMarcar, #btnConectar, #btnAnalise,
body.dark-mode #btnMarcar, body.dark-mode #btnConectar, body.dark-mode #btnAnalise,
body:not(.dark-mode) #btnMarcar, body:not(.dark-mode) #btnConectar, body:not(.dark-mode) #btnAnalise {
  color: #fff !important;
}

/* Status e Bateria: texto preto no modo claro, branco no escuro */
#analise-solo, #status, #bateria {
  color: var(--dark) !important;
}
#robotPopupWrapper .popup #analise-solo,
body.dark-mode #status,
body.dark-mode #bateria {
  color: #fff !important;
}

/* Corrige popup-box para texto escuro no modo claro */
.popup-box {
  background: #fff !important;
  color: var(--dark) !important;
  border: 1px solid #e6e6e6 !important;
  box-shadow: 0 6px 18px rgba(0,0,0,0.08) !important;
}



/* Força texto preto para Status e Bateria no modo claro, branco no escuro */
#robotPopupWrapper .popup #analise-solo,
#robotPopupWrapper .popup #status,
#robotPopupWrapper .popup #bateria {
  color: var(--dark) !important;
}
body.dark-mode #robotPopupWrapper .popup #analise-solo,
body.dark-mode #robotPopupWrapper .popup #status,
body.dark-mode #robotPopupWrapper .popup #bateria {
  color: #fff !important;
}

#modalTitle {
  color: var(--dark) !important; /* preto no modo claro */
}

body.dark-mode #modalTitle {
  color: #fff !important; /* branco no modo escuro */
}


/* Fazer o <p id="analise-solo"> ter mesmo visual dos h2 das .card */





/* estilos temporários para a "captura" do PDF */
.pdf-export { font-family: Arial, Helvetica, sans-serif; color: #222; padding: 12px; }
.pdf-export h1 { font-size: 22px; margin-bottom: 6px; }
.pdf-export h2 { font-size: 18px; margin-top: 12px; }


button:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  box-shadow: none;
  transform: none;
}


/* === acessibilidade: mostrar tooltip quando o ícone receber foco (teclado) === */
.tooltip {
  outline: none; /* remove foco feio, mantem acessibilidade */
}

/* mostra tooltip também no foco (tab) */
.tooltip:focus + .tooltip-text,
.tooltip:focus-visible + .tooltip-text {
  visibility: visible;
  opacity: 1;
}

/* no mobile, permitir que o usuário toque no ícone e mantenha o tooltip visível (classe .open será toggled via JS) */
.tooltip-container .tooltip-text.open {
  visibility: visible;
  opacity: 1;
}


/* Título da seção Análise do Solo (consistente com .card h2) */
#analise-solos h2 {
  display: flex;
  align-items: center;
  gap: 12px;
  font-family: 'Montserrat', sans-serif;
  font-size: 1.8rem;
  font-weight: 700;
  color: var(--primary-dark);
  margin-bottom: 25px;
  position: relative;
  padding-bottom: 15px;
}
#analise-solos h2::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: -10px;
  width: 45px;
  height: 3px;
  background: var(--primary);
  border-radius: 2px;
}
